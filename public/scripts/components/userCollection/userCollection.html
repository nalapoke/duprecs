<div class="user-col-header">
    <div class="user-col-header-left pull-left">
        <img *ngIf="!user && !userError" class="user-header-img" src="../../images/vinyl_spinner.gif">
        <img *ngIf="userError" class="user-header-img" src="../../images/vinyl_broken.gif">
        <img *ngIf="user" [src]="user.avatar_url" class="user-header-img shadow-img">
    </div>
    <div class="user-col-header-right pull-left">
        <p *ngIf="!user && !userError">finding Discogs user...</p>
        <p *ngIf="userError" class="text-danger">{{ userError }}</p>
        <div *ngIf="user">
            <div class="user-col-header-username">{{ user.username }}</div>
            <div class="user-col-header-stats">has: {{ user.num_collection }} | wants: {{ user.num_wantlist }}</div>
        </div>
    </div>
</div>
<div *ngIf="user && userCollection.length > 0" class="user-col-toolbar">
    <div class="pull-left">
        <input [(ngModel)]="filterText" type="text"
           class="user-col-filter-input form-control duprecs-form-control"
           placeholder="find a release">
    </div>
    <div class="btn-group pull-left" role="group">
        <button type="button" class="btn btn-default" (click)="onViewButtonClicked(viewTypes.grid)"
                [ngClass]="{ active: currentViewType === viewTypes.grid }">
            <span class="glyphicon glyphicon-th-large"></span>
        </button>
        <button type="button" class="btn btn-default" (click)="onViewButtonClicked(viewTypes.list)"
                [ngClass]="{ active: currentViewType === viewTypes.list }">
            <span class="glyphicon glyphicon-th-list"></span>
        </button>
    </div>
</div>
<div class="user-col-body" *ngIf="user">
    <div *ngIf="userCollection.length === 0">
        <p *ngIf="!userCollectionError">fetching {{ user.username }}'s collection...</p>
        <p *ngIf="userCollectionError" class="text-danger">{{ userCollectionError }}</p>
    </div>
    <div *ngIf="userCollection.length > 0">
        <dr-grid-view *ngIf="currentViewType === viewTypes.grid"
                      [userCollection]="userCollection"
                      [filterText]="filterText"></dr-grid-view>
        <dr-list-view *ngIf="currentViewType === viewTypes.list"
                      [userCollection]="userCollection"
                      [filterText]="filterText"></dr-list-view>
    </div>
</div>